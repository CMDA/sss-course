<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Lesson 1 - Server Side Scriptin in Node.js</title>

    <meta name="description" content="">
    <meta name="author" content="Flurin Egger">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="vendor/reveal.js/css/reveal.min.css" />
    <link rel="stylesheet" href="stylesheets/theme.css" id="theme" />

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      if(window.location.search.match( /print-/gi )){
        document.write( '<link rel="stylesheet" href="/vendor/reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css">' );        
      }
    </script>

    <!--[if lt IE 9]>
    <script src="/vendor/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->

    <script src="vendor/reveal.js/lib/js/head.min.js"></script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
  <h1 class="title">Server Side Scripting in <img src="assets/logo-nodejs.svg" /></h1>
  <p>SSS &mdash; Lesson 1</p>
  <p>http://cmda.github.io/sss-course/lesson1</p>
</section>


<section lang="nl">

  <section>
    <h1>Today</h1>
    <ol>
      <li>Introductie</li>
      <li>Expectations</li>
      <li>Getting started</li>
      <li>Javascript</li>
      <li>Wrap up</li>
    </ol>
  </section>

  <section>
    <h1>Introductie</h1>
  </section>

  <section>
    <h1>Wie</h1>

    <div class="side-by-side">
      <div class="side-by-side__content">
        <h2>Vincent Vijn</h2>
        <p>HvA</p>
      </div>
      <div class="side-by-side__content">
        <h2>Edwin van der Graaf</h2>
        <p>Digitpaint</p>
      </div>
      <div class="side-by-side__content">
        <h2>Flurin Egger</h2>
        <p>Digitpaint</p>
      </div>
    </div>
  </section>

  <section>
    <h1>Organisatie</h1>
    <p>https://github.com/CMDA/sss-course</p>

    <aside class="notes">
      * Verwijzingen daarheen in Moodle
      * Inleveren van zaken ook via github, we zullen later nog terugkomen hoe we de koppeling github account <-> studennr gaan doen
    </aside>
  </section>

  <section>
    <h1>Heb je vragen?</h1>

    <p class="fragment">Github issues!</p>

    <aside class="notes">
      * Geen e-mail tenzij het om een prive aangelegenheid gaat.
      * Heb je aanvullingen? Maak een pull request!
    </aside>
  </section>

  <section>
    <h1>Leerdoelen</h1>

    <aside class="notes">
      * De student heeft een degelijke basis in Node.js en kan zelfstandig hierop gebaseerde systemen analyseren en naar behoefte aanpassen.
      * De student kent de basisprincipes van een imperatieve programmeertaal: variabelen, sequentiële uitvoering, controlestructuren.
      * De student ziet het nut van het gebruik van functies en kan functies toepassen om een web- applicatie gestructureerd op te bouwen.
      * De student is in staat om met behulp van Node.js verbinding te leggen met een MySQL database en daar gegevens uit op te halen en in te muteren.
      * De student kan de geleerde basisprincipes zelfstandig combineren en toepassen om eenvoudige programmeerproblemen op te lossen.
    </aside>
  </section>

  <section>
    <h1>Node.js is geen doel op zich ...</h1>
    <p class="fragment">
      ... je leert de basisprincipes van een applicatie maken.
    </p>

    <aside class="notes">
      * Studenten die vorig jaar PHP deden; het gaat om de principes, niet om de taal.
      * Als je starks aan 't werk gaat zul je ook met andere talen te maken krijgen.
    </aside>
  </section>


  <section>
    <h1>Lessen</h1>

    <ul>
      <li>7 hoorcolleges</li>
      <li>8 werkcolleges</li>
      <li>2 deeltoetsen</li>
      <li>1 eindopdracht</li>
    </ul>
  </section>

  <section>
    <h1>Deeltoetsen</h1>

    <div class="side-by-side">
      <div class="side-by-side__content">
        <h2>Deeltoets 1</h2>
        <p>Schriftelijk (15 min) in het werkcollege</p>
        <p>Deze toets is <strong>Pass/Fail</strong></p>
      </div>

      <div class="side-by-side__content">
        <h2>Deeltoets 2</h2>
        <p>In code (30-45 min) tijdens het werkcollege</p>
        <p>Deze toets is <strong>Pass/Fail</strong></p>
      </div>
    </div>
  </section>

  <section>
    <h1>Eindopdracht</h1>
    <p>Het maken van een echte applicatie</p>
    <p>Voor deze toets krijg je een <strong>cijfer</strong></p>
  </section>

  <section>
    <h1>Herkansing</h1>
    <ul>
      <li>Eén opdracht voor deeltoets</li>
      <li>De eindopdracht mag je verbeteren</li>
    </ul>
  </section>

  <section>
    <h1>Boek</h1>

    <p>Elke week 1-2 hoofdstukken</p>

    <img src="assets/lesson1/book.jpg" class="bottom" />

  </section>

  <section>
    <h1>Hoorcollege</h1>
    <ul>
      <li>Nieuw lesmateraal</li>
      <li>Uitleg nieuwe opdrachten</li>
    </ul>
    </section>

  <section data-markdown>
    <script type="text/template">
      # Werkcollege

      * Behandelen opdrachten van vorige week
      * Werken aan opdrachten (als je deze allemaal kunt maken kun je ook de deeltoets/eindtoets halen)
      * Vragen stellen
    </script>
  </section>
</section>

<section>

  <section>
    <h1>Before we start...</h1>
    <p>... we have some expectations</p>
  </section>

  <section>
    <h1 class="terminal--line">Terminal<span class="blinking-cursor"></span></h1>

    <p>Basic terminal/powershell knowledge (`cd`/`mkdir`/etc.)</p>

    <div class="fragment subsection">
      <h2>Resources:</h2>
      <ul>
        <li>http://blog.teamtreehouse.com/introduction-to-the-mac-os-x-command-line</li>
        <li>http://cli.learncodethehardway.org/book/</li>
      </ul>
    </div>
  </section>

  <section>
    <h1>Text editor</h1>

    <p>You have <strong>text-editor</strong> and are not afraid to use it</p>

    <div class="fragment subsection">
      <h2>Editors</h2>
      <ul>
        <li>Sublime text</li>
        <li>Brackes</li>
        <li>VIM</li>
      </ul>
    </div>
  </section>

  <section>
    <h1><img src="assets/lesson1/logo-git.svg" /></h1>

    <p>
      You have basic knowledge of git an you know how to <strong>clone</strong>, <strong>commit</strong>, <strong>push</strong> and <strong>pull</strong>.
    </p>

    <div class="fragment subsection">
      <h2>Resources</h2>
      <ul>
        <li>http://git-scm.com/</li>
        <li>http://git-scm.com/book/en/v2</li>
      </ul>
    </div>
  </section>

  <section>
    <h1><img src="assets/lesson1/logo-github-mark.svg" /> Github</h1>

    <ul>
      <li>You have an account</li>
      <li>You know how to fork</li>
    </ul>
  </section>

</section>

<section data-background="assets/lesson1/party.gif">
  <h1 class="fragment">Let's get this party started!</h1>
</section>

<section>

  <section>
    <h1>The Node.js eco-system</h1>
    <p>... and how to get started</p>
  </section>

  <section>
    <h1>What is Node.js?</h1>

    <blockquote>
      <p>Node.js® is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications.</p>
      <p>Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices.</p>
    </blockquote>
  </section>

  <section>
    <h1>What can we use it for?</h1>
    <ul>
      <li class="fragment">(terminal) scripts</li>
      <li class="fragment">desktop applications</li>
      <li class="fragment">web applications</li>
      <li class="fragment">hardware</li>
    </ul>

    <aside class="notes">
     * (terminal) scripts (Grunt, Less, ...)
     * desktop applications (Brackets, Atom, PopcornTime, ...)
     * web applications (PayPal, Uber, Netflix, LinkedIn, AirBnb, ...)
     * hardware (johnny-five, tessel, espruino, ...)
    </aside>
  </section>

  <section>
    <h1>Installing Node.js<sup>*</sup></h1>

    <ol>
      <li>Go to http:///nodejs.org</li>
      <li>Click "install"</li>
      <li>Follow the instructions on screen</li>
      <li>Done!</li>
    </ol>

    <p><small>* on Windows or OS X</small></p>
  </section>

  <section>
    <h1>Test the installation</h1>

    <div class="side-by-side">
      <div class="side-by-side__content">
        <pre class="terminal--powershell"><code data-trim class="powershell">
PS C:\Users> node -v
v0.10.33
        </code></pre>
      </div>
      <div class="side-by-side__content">
        <pre class="terminal--osx"><code data-trim class="bash">
$ node -v
v0.10.33
        </code></pre>
      </div>
    </div>
  </section>

  <section>
    <h1>REPL</h1>

    <span class="fragment"><strong>R</strong>ead</span>
    <span class="fragment">- <strong>E</strong>val</span>
    <span class="fragment">- <strong>P</strong>rint</span>
    <span class="fragment">- <strong>L</strong>oop</span>
  </section>

  <section>
    <h1>To start the REPL</h1>
    <pre class="terminal--osx"><code data-trim data-noescape class="bash">
$ node
><span class="blinking-cursor"></span>
    </code></pre>
  </section>

  <section>
    <h1>Some examples</h1>
    <pre class="terminal--osx"><code data-trim data-noescape class="bash">
$ node
> 2 + 3
5
> 0 == true
false
> 1 == true
true # always use ===
> 1 === true
false
><span class="blinking-cursor"></span>
    </code></pre>
  </section>

  <section>
    <h1>Test modules</h1>
    <p>Given you've written a small module, square.js</p>
    <pre><code data-trim class="javascript">
// square.js
var square = function(x){
  return x * x;
};

module.exports = square;
    </code></pre>
  </section>

    <section>
      <h1>Test modules</h1>

    <pre class="terminal--osx"><code data-trim data-noescape class="bash">
$ node # start the repl
> var square = require('./square.js')
undefined
> square
[Function]
> square(2)
4
><span class="blinking-cursor"></span>
    </code></pre>
    </section>

  <section>
    <h1>REPL</h1>
    <p>DEMO</p>
  </section>

  <section>
    <div class="protip">
      Use the REPL to test small snippets of your code.
    </div>
  </section>

  <section>
    <h1><img src="assets/lesson1/logo-npm.svg" alt="NPM" class="seamless" /></h1>

    <span class="fragment"><strong>n</strong>ode</span>
    <span class="fragment"><strong>p</strong>ackage</span>
    <span class="fragment"><strong>m</strong>anager</span>
  </section>

  <section>
    <h1>What is npm?</h1>

    <blockquote>
      npm runs through the command line and <strong>manages dependencies</strong> for an application. It also allows users to <strong>install Node.js applications that are available on the npm registry.</strong>
      <cite url="http://en.wikipedia.org/wiki/Npm_(software)">Wikipedia</cite>
    </blockquote>
  </section>

  <section>
    <h1>Why packages?</h1>
    <ul>
      <li>Re-use of code</li>
      <li>Distributable</li>
      <li>Installable</li>
    </ul>
  </section>

    <section>
    <h1>npm.org</h1>

    <img src="assets/lesson1/screenshot-npm-org.png" alt="npm.org" class="image--bottom" />
  </section>

  <section>
    <h1><code>npm install</code></h1>

    <ul>
      <li>Use <code>npm install underscore</code> to install a package into your project.</li>
      <li>Packages are installed in the current directory's subdirectory <code>node_modules</code></li>
      <li>Use <code>npm install -g packagename</code> to install a package globally</li>
    </ul>
  </section>

  <section>
    <h1>Using an installed package</h1>

    <pre class="terminal--osx"><code data-trim class="bash">
$ node
> var u = require('underscore')
undefined
> u.map([1,2,3,4], function(v){ return v * 2; })
[ 2, 4, 6, 8 ]
    </code></pre>

  </section>

  <section>
    <h1>DEMO</h1>
    <aside class="notes">
      * But this is quite cubmersome if we had to install all the modules by hand every time we opened our project
    </aside>
  </section>

  <section>
    <h1><code>package.json</code></h1>
    <p>
      Store your project's <strong>metadata</strong> including <strong>dependencies</strong> in a file so someone else can use your project.
    </p>
  </section>

  <section>
    <h1>Example</h1>
    <pre><code data-noescape data-trim class="json">
{
  "name": "my-awesome-lib",
  "version": "0.0.1",
  "description": "First exercise for server-side
                  scripting in node.js course",
  "private": true,
  "main": "index.js",
  "dependencies": {
    "request": "~2.47.0"
  },
  "devDependencies": {
    "mocha": "~2.0.1"
  },
  "scripts": {
    "test": "mocha"
  },
  "keywords": ["nodejs", "course"],
  "license": "MIT"
}
    </code></pre>
  </section>

  <section>
    <h1><code>npm init</code></h1>
    <p>Generate a package.json</p>
    <pre class="terminal--osx"><code class="bash">
$ npm init
    </code></pre>
  </section>

  <section>
    <h1>Save dependencies</h1>

    <pre class="terminal--osx"><code class="bash">
$ npm install --save underscore
    </code></pre>

  </section>

  <section>
    <h1>DEMO</h1>
  </section>

  <section>
    <div class="protip">
      Don't put <code>node_modules</code> in version control, put <code>package.json</code> in version control instead.
    </div>
  </section>

  <section>
    <div class="protip">
      Make sure you put all dependencies in <code>package.json</code>
    </div>
  </section>

  <section>
    <h1>Starting someone else's project</h1>

    <ol>
      <li class="fragment">Git clone / unzip / whatever</li>
      <li class="fragment"><code>npm install</code></li>
      <li class="fragment">That's it!</li>
    </ol>
  </section>
</section>

<section data-background="assets/lesson1/break.gif">
  <div class="fragment">
    <h1>Coffebreak</h1>
    <p>Back in 10 minutes</p>
  </div>
</section>


<section>

  <section>
    <h1><img src="assets/lesson1/logo-js.svg" style="width: 50%; height: auto" /></h1>
    <p>Quick overview</p>
  </section>

  <section>
    <h1>Flow</h1>
  </section>

  <section>
    <h1>if/else</h1>
    <p>The if statement executes a statement if a specified condition is true. If the condition is false, another statement can be executed.</p>
    <pre><code class="javascript" data-trim>
if (condition) {
  // statement1 (condition is true)
} else {
  // statement2 (condition is false)
}
    </code></pre>
  </section>

  <section>
    <h1>try{} catch(){}</h1>
    <p>The try...catch statement marks a block of statements to try, and specifies a response, should an exception be thrown.</p>
    <pre><code class="javascript" data-trim>
try {
  throw "myException"; // generates an exception
} catch (e) {
  // statements to handle any exceptions
  logMyErrors(e); // pass exception object to error handler
}
    </code></pre>
  </section>

  <section>
    <h1>for(){}</h1>
    <p>The for statement creates a loop that consists of three optional expressions, enclosed in parentheses and separated by semicolons, followed by a statement executed in the loop.</p>
    <pre><code class="javascript" data-trim>
for ([initialization]; [condition]; [final-expression]){
  // statements
}
    </code></pre>

    <pre><code class="javascript" data-trim>
for(var i=0; i < 10; i++){
  // statements
}
    </code></pre>
  </section>

  <section>
    <h1>while</h1>
    <p>The while statement creates a loop that executes a specified statement as long as the test condition evaluates to true. The condition is evaluated before executing the statement.</p>
    <pre><code class="javascript" data-trim>
while (condition) {
  // statement
}
    </code></pre>
  </section>

  <section>
    <h1>function(){}</h1>
    <p>The function statement declares function with the specified parameters with an optional return value.</p>
    <pre><code class="javascript" data-trim>
function name([param,[, param,[..., param]]]) {
  // statements
  return true // optional
}
    </code></pre>
  </section>

  <section>
    <h1>Modules</h1>
  </section>

  <section>
    <h1>What is a module?</h1>
    <p>
      A way to structure your project and share your code
    </p>
    <ul>
      <li>A file (or a package)</li>
      <li>It returns something</li>
    </ul>
  </section>

  <section>
    <h1>Writing modules</h1>
    <p>Node.js modules are flexible, they can return:</p>
    <ul>
      <li>Objects</li>
      <li>Functions</li>
      <li>Variables</li>
    </ul>
  </section>

  <section>
    <h1>Example</h1>
    <pre><code class="javascript" data-trim>
// version.js
module.exports = "1.0.0";
    </code></pre>

    <pre><code class="javascript" data-trim>
// main.js
var version = require("./version");
console.log(version); // Outputs 1.0.0
    </code></pre>


  </section>

  <section>
    <h1>Example</h1>
    <pre><code class="javascript" data-trim>
// string-helpers.js
var tools = {
  capitalize : function(string){
    return string.charAt(0).toUpperCase() + string.slice(1);
  }
};
module.exports = tools;
    </code></pre>

    <pre><code class="javascript" data-trim>
// main.js
var tools = require('tools');
tools.capitalize("node FTW!"); // => Node FTW!
    </code></pre>
  </section>

</section>


<section>
  <section>
    <h1>Debugging</h1>
  </section>

  <section>
    <h1>Console output</h1>
    <p>Printing output to the console</p>
  </section>

  <section>
    <h1><code>console.log()</code></h1>
    <pre class="editor"><code data-trim class="javascript">
// Why doesn't this work!?
var a = 100;
console.log("Debug value", a);
console.log("String 1: %s and Numer 2: %d", "string", 3);
    </code></pre>
  </section>

  <section>
    <h1>Further console functions</h1>
    <ul>
      <li><code>console.time(label)</code></li>
      <li><code>console.timeEnd(label)</code></li>
      <li><code>console.trace(message)</code></li>
    </ul>
  </section>


  <section>
    <h1>node-inspector</h1>
    <p>Stop execution and inspect the current callstack</p>
  </section>

  <section>
    <h1>Install node-inspector</h1>
    <pre class="terminal--osx"><code data-trim class="bash">
$ npm install -g node-inspector
...
$ node-debug -v
v0.7.4
    </code></pre>
  </section>

  <section>
    <h1><code>debugger</code> statement</h1>
    <pre class="editor"><code data-trim class="javascript">
// debugger.js
var a = "bug!";
function potentiallyBuggyCode(param) {
  var b = "another bug!";
  // do potentially buggy stuff to examine, step through, etc.
  debugger;
}
potentiallyBuggyCode("thing");
    </code></pre>
  </section>

  <section>
    <h1>Running node-inspector</h1>
    <pre class="terminal--osx"><code data-trim class="bash">
$ node-debug debugger.js
Node Inspector is now available from http://localhost:8080/debug?port=5858
Debugging `html/assets/lesson1/debugger.js`

debugger listening on port 5858
    </code></pre>
  </section>

  <section>
    <h1>node-inspector in action</h1>
  </section>

  <section>
    <h1>JSHint</h1>

    <blockquote>
      JSHint is a community-driven tool to detect errors and potential problems in JavaScript code and to enforce your team's coding conventions.
      <cite>jshint.com</cite>
    </blockquote>
  </section>

  <section>
    <h1>Install JSHint</h1>
    <pre class="terminal--osx"><code data-trim class="bash">
$ npm install -g jshint
...
$ jshint -v
jshint v2.5.10
    </code></pre>
  </section>

  <section>
    <h1>Using JSHint</h1>
    <pre class="terminal--osx"><code data-trim class="bash">
$ jshint &lt;filename&gt;
    </code></pre>
  </section>

  <section>
    <h1>Using JSHint</h1>
    <pre class="editor"><code data-trim class="javascript">
// faulty.js
// Let's put in some syntax errors!
var a = ;

if(a == true){
  console.log("yes!")
}
    </code></pre>

    <aside class="notes">
      jshint html/assets/lesson1/faulty.js
    </aside>
  </section>

  <section>
    <h1>From your texteditor</h1>
    <p>Most text-editors have plugins/packages to run JSHint from there</p>

    <aside class="notes">
      * JSHint can be configured
      * We will JSHint all submitted code in tests, you will fail immediately if it won't hint.
    </aside>
  </section>

</section>

<section>

  <section>
    <h1>Wrapping up</h1>
  </section>

  <section>
    <h1>What we learned today</h1>
    <ul>
      <li class="fragment">Install node.js and using the REPL</li>
      <li class="fragment">Installing and using NPM packages in combination with package.json</li>
      <li class="fragment">Debugging with console.log, node-inspector and jshint</li>
      <li class="fragment">Basic JS control flow</li>
      <li class="fragment">Modules</li>
    </ul>
  </section>

</section>

<section>

  <section>
    <h1>Werkcollege en huiswerk</h1>
  </section>

  <section>
    <h1>Huiswerk: lezen</h1>

    <ul>
      <li>Hoodstuk 3, t/m 3.2.3 (p 37 t/m 58)</li>
      <li>Appendix A5 (p 363 t/m 366)</li>
      <li>Appendix B1 t/m B3.2 (p 367 t/m 371) </li>
    </ul>

    <p>Klaar voor werkcollege</p>

    <aside class="notes">
      Waarom? Zodat je de opdrachten in 't werkcollege kunt maken.
    </aside>
  </section>

  <section>
    <h1>Huiswerk: doen</h1>
    <ul>
      <li>Node.js installeren</li>
      <li>Terminal/Git/etc. werkend hebben</li>
      <li>Github account aanmaken als je die nog niet hebt</li>
      <li>Alvast spieken naar https://github.com/CMDA/sss-exercises</li>
    </ul>

    <p>Klaar voor werkcollege</p>
  </section>

  <section data-background="assets/thatsall.gif">
  </section>

</section>
      </div>
    </div>

    <script src="vendor/reveal.js/js/reveal.min.js"></script>
    <script src="vendor/highlightjs/highlight.pack.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        width: 1000,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'vendor/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'vendor/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'vendor/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'javascripts/reveal/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'vendor/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>
  </body>
</html>